<div class="rounded-2xl border overflow-hidden">
  <!-- =========================
       Tabla de medicamentos
       - Cabecera fija
       - Cuerpo con *ngFor
       - Estado vacío
  ========================== -->
  <table class="min-w-full">
    <thead class="bg-gray-50">
      <tr class="text-left text-sm text-gray-500">
        <th class="p-3">Medicamento</th>
        <th class="p-3">Laboratorio</th>
        <th class="p-3">Vencimiento</th>
        <th class="p-3">Stock</th>
        <th class="p-3">Precio</th>
        <th class="p-3">Estado</th>
        <th class="p-3">Acciones</th>
      </tr>
    </thead>

    <tbody class="divide-y">
      <!-- Fila por cada elemento del arreglo `medicamentos` -->
      <tr *ngFor="let m of medicamentos" class="text-sm">
        <!-- Nombre -->
        <td class="p-3 font-medium">{{ m.nombre }}</td>

        <!-- Laboratorio -->
        <td class="p-3">{{ m.laboratorioNombre }}</td>

        <!-- Vencimiento
             Sugerencia: aplicar pipe de fecha (o helper `fmt`) para formato local -->
        <td class="p-3">{{ m.fechaVencimiento }}</td>
        <!-- Ejemplo alternativo:
             {{ m.fechaVencimiento | date:'shortDate' }} -->

        <!-- Stock (en rojo si es bajo) -->
        <td class="p-3">
          <span [class.text-red-600]="m.cantidadStock < 10">{{ m.cantidadStock }}</span>
        </td>

        <!-- Precio unitario
             Sugerencia: unificar moneda con el resto de la app (p.ej. pipe `currencyCol`) -->
        <td class="p-3 font-semibold">
          {{ m.valorUnitario | currency:'USD':'symbol':'1.0-0' }}
          <!-- Alternativa:
               {{ m.valorUnitario | currencyCol }} -->
        </td>

        <!-- Estado visual (badge reutilizable) -->
        <td class="p-3">
          <app-badge-status
            [status]="m.cantidadStock === 0 ? 'agotado' : (m.cantidadStock < 10 ? 'bajo' : 'ok')">
          </app-badge-status>
        </td>

        <!-- Acciones: emiten eventos al padre -->
        <td class="p-3">
          <div class="flex gap-2">
            <button
              class="px-2 py-1 rounded-lg border"
              (click)="vender.emit(m)"
              aria-label="Vender medicamento">
              Vender
            </button>

            <button
              class="px-2 py-1 rounded-lg border"
              (click)="editar.emit(m)"
              aria-label="Editar medicamento">
              Editar
            </button>

            <button
              class="px-2 py-1 rounded-lg border text-red-600"
              (click)="eliminar.emit(m)"
              aria-label="Eliminar medicamento">
              Eliminar
            </button>
          </div>
        </td>
      </tr>

      <!-- Estado vacío (sin resultados) -->
      <tr *ngIf="medicamentos.length === 0">
        <td colspan="7" class="p-6 text-center text-gray-500">Sin resultados</td>
      </tr>
    </tbody>
  </table>
</div>
